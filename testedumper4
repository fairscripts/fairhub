local Webhook = "https://discord.com/api/webhooks/1409327419688489041/njv98GGH-PJx8Z0tNI6HgSo_9G0eI0qYo6aHkT-O1MJFz4w71C7zLlJt2PEhbLEEZA6B"
local CHUNK_SIZE = 3500 -- Tamanho do peda칞o da mensagem, com uma margem de seguran칞a

-- Fun칞칚o para listar o conte칰do de um Container
local function GetContents(Container)
    local Contents = ""
    for _, Object in ipairs(Container:GetChildren()) do
        Contents = Contents .. "- **" .. Object.Name .. "** (Classe: " .. Object.ClassName .. ")\n"
    end
    if Contents == "" then
        Contents = "*(Vazio)*\n"
    end
    return Contents
end

-- Fun칞칚o para enviar a mensagem em peda칞os
local function SendMessageInChunks(message)
    local chunks = {}
    local start = 1
    while start <= #message do
        local chunk = message:sub(start, start + CHUNK_SIZE - 1)
        table.insert(chunks, chunk)
        start = start + CHUNK_SIZE
    end

    for _, chunk in ipairs(chunks) do
        local data = {
            content = chunk
        }
        local jsonData = game:GetService("HttpService"):JSONEncode(data)

        local success, response = pcall(function()
            if syn and syn.request then
                syn.request({
                    Url = Webhook,
                    Method = "POST",
                    Headers = {
                        ["Content-Type"] = "application/json"
                    },
                    Body = jsonData
                })
            elseif request then
                request({
                    Url = Webhook,
                    Method = "POST",
                    Headers = {
                        ["Content-Type"] = "application/json"
                    },
                    Body = jsonData
                })
            else
                local httpService = game:GetService("HttpService")
                httpService:PostAsync(Webhook, jsonData)
            end
        end)

        if not success then
            warn("Falha ao enviar peda칞o do relat칩rio: " .. response)
            return false -- Retorna falso para indicar falha
        end
    end
    return true
end

-- Conte칰do dos Containers
local WorkspaceContents = GetContents(game.Workspace)
local ReplicatedStorageContents = GetContents(game.ReplicatedStorage)

-- Monta a mensagem completa
local FullMessage = "游닇 **Relat칩rio de Itens do Jogo**\n\n" ..
                    "游닍 **Conte칰do do Workspace:**\n" .. WorkspaceContents ..
                    "\n游댃 **Conte칰do do ReplicatedStorage:**\n" .. ReplicatedStorageContents

-- Envia a mensagem em peda칞os
local is_success = SendMessageInChunks(FullMessage)

if is_success then
    print("Relat칩rio completo enviado para o Discord com sucesso!")
else
    warn("N칚o foi poss칤vel enviar todo o relat칩rio.")
end
